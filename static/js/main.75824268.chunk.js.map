{"version":3,"sources":["SVG.js","cards.js","deal.js","score.js","solitaireContext.js","solitaire.js","AppRouter.js","serviceWorker.js","index.js"],"names":["SVGBoilerPlate","props","react_default","a","createElement","viewBox","onClick","id","preserveAspectRatio","fill","d","strokeWidth","strokeLinecap","strokeMiterlimit","width","height","rx","ry","stroke","children","content","sym","num","col","xlinkHref","x","y","CardContent","color","symbol","number","Card","SVG_SVGBoilerPlate","SVG_CardContent","transform","MiniCard","deck","symbols","i","_i","length","s","push","compareCards","b","cardToComponent","card","hidden","clickConst","cards_Card","key","moveCard","source","target","index","splice","moveRandomCard","size","Math","floor","random","dealTarget","stack","amount","sort","deal","starter","hand","_dealTarget","_dealTarget2","Object","slicedToArray","crib","points","_dealTarget3","_dealTarget4","_dealTarget5","_dealTarget6","newStarter","crib_hidden","starter_hidden","pointsStarter","set","type","pointsKnob","cards","filter","map","pointsFlush","reduce","prev","next","slice","points15","powerSet","sum","pointsPairs","types","values","grouped","concat","pointsRuns","result","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_loop","other_set","value","bool","includes","v","_iterator","Symbol","iterator","done","_ret","err","return","subsets","toConsumableArray","scoreTarget","score","should_score_jack","point","initialSolitaireState","message","SolitaireContext","React","createContext","solitaireReducer","state","action","firstDeal","button","Error","handToCrib","findIndex","c","parseInt","objectSpread","newState","StyledStack","styled","div","_templateObject","Stack","stack_length","Fragment","className","textAnchor","fontSize","StyledHand","_templateObject2","StyledCard","_templateObject3","last","Hand","dispatch","useContext","handcards","lastcard","StyledCrib","_templateObject4","Crib","cribcards","StyledScoreBoard","_templateObject5","ScoreBoard","winning_score","StyledScoreTable","_templateObject6","ScoreTable","class","join","key_set","cards_MiniCard","pointToComponents","StyledMessage","_templateObject7","Message","StyledNextButton","_templateObject8","NextButton","StyledBackButton","_templateObject9","BackButton","Link","to","StyledSolitaire","_templateObject10","Solitaire","_useReducer","useReducer","_useReducer2","useEffect","keyHandler","event","window","addEventListener","removeEventListener","Provider","solitaire_ScoreBoard","solitaire_Message","solitaire_BackButton","solitaire_ScoreTable","solitaire_NextButton","solitaire_Stack","solitaire_Crib","solitaire_Hand","StyledMenu","AppRouter_templateObject","Menu","AppRouter","HashRouter","Switch","Route","path","exact","component","isLocalhost","Boolean","location","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","console","log","onUpdate","onSuccess","catch","error","ReactDOM","render","src_AppRouter","document","getElementById","URL","process","href","origin","fetch","response","contentType","headers","get","status","indexOf","ready","unregister","reload","checkValidServiceWorker"],"mappings":"6NAEMA,EAAiB,SAAAC,GACrB,OACEC,EAAAC,EAAAC,cAAA,OAAKC,QAAQ,gBAAgBC,QAASL,EAAMK,SAC1CJ,EAAAC,EAAAC,cAAA,UACEG,GAAG,IACHF,QAAQ,sBACRG,oBAAoB,WACpBC,KAAK,OAELP,EAAAC,EAAAC,cAAA,QACEM,EAAE,+HAONR,EAAAC,EAAAC,cAAA,UACEG,GAAG,IACHF,QAAQ,sBACRG,oBAAoB,WACpBC,KAAK,SAELP,EAAAC,EAAAC,cAAA,QACEM,EAAE,oMAQNR,EAAAC,EAAAC,cAAA,UACEG,GAAG,IACHF,QAAQ,sBACRG,oBAAoB,WACpBC,KAAK,SAELP,EAAAC,EAAAC,cAAA,QACEM,EAAE,uLAONR,EAAAC,EAAAC,cAAA,UACEG,GAAG,IACHF,QAAQ,sBACRG,oBAAoB,WACpBC,KAAK,OAELP,EAAAC,EAAAC,cAAA,QACEM,EAAE,uFAINR,EAAAC,EAAAC,cAAA,UACEG,GAAG,IACHF,QAAQ,sBACRG,oBAAoB,YAEpBN,EAAAC,EAAAC,cAAA,QACEM,EAAE,+DAGFC,YAAY,KACZC,cAAc,SACdC,iBAAiB,MACjBJ,KAAK,UAGTP,EAAAC,EAAAC,cAAA,UACEG,GAAG,IACHF,QAAQ,sBACRG,oBAAoB,YAEpBN,EAAAC,EAAAC,cAAA,QACEM,EAAE,kFAGFC,YAAY,KACZC,cAAc,SACdC,iBAAiB,MACjBJ,KAAK,UAGTP,EAAAC,EAAAC,cAAA,UACEG,GAAG,IACHF,QAAQ,sBACRG,oBAAoB,YAEpBN,EAAAC,EAAAC,cAAA,QACEM,EAAE,6GAGFC,YAAY,KACZC,cAAc,SACdC,iBAAiB,MACjBJ,KAAK,UAGTP,EAAAC,EAAAC,cAAA,UACEG,GAAG,IACHF,QAAQ,sBACRG,oBAAoB,YAEpBN,EAAAC,EAAAC,cAAA,QACEM,EAAE,2CAEFC,YAAY,KACZC,cAAc,SACdC,iBAAiB,MACjBJ,KAAK,UAGTP,EAAAC,EAAAC,cAAA,UACEG,GAAG,IACHF,QAAQ,sBACRG,oBAAoB,YAEpBN,EAAAC,EAAAC,cAAA,QACEM,EAAE,6FAGFC,YAAY,KACZC,cAAc,SACdC,iBAAiB,MACjBJ,KAAK,UAGTP,EAAAC,EAAAC,cAAA,UACEG,GAAG,IACHF,QAAQ,sBACRG,oBAAoB,YAEpBN,EAAAC,EAAAC,cAAA,QACEM,EAAE,uGAGFC,YAAY,KACZC,cAAc,SACdC,iBAAiB,MACjBJ,KAAK,UAGTP,EAAAC,EAAAC,cAAA,UACEG,GAAG,IACHF,QAAQ,sBACRG,oBAAoB,YAEpBN,EAAAC,EAAAC,cAAA,QACEM,EAAE,4CAEFC,YAAY,KACZC,cAAc,SACdC,iBAAiB,MACjBJ,KAAK,UAGTP,EAAAC,EAAAC,cAAA,UACEG,GAAG,IACHF,QAAQ,sBACRG,oBAAoB,YAEpBN,EAAAC,EAAAC,cAAA,QACEM,EAAE,kDAEFC,YAAY,KACZC,cAAc,SACdC,iBAAiB,MACjBJ,KAAK,UAGTP,EAAAC,EAAAC,cAAA,UACEG,GAAG,IACHF,QAAQ,sBACRG,oBAAoB,YAEpBN,EAAAC,EAAAC,cAAA,QACEM,EAAE,uGAGFC,YAAY,KACZC,cAAc,SACdC,iBAAiB,MACjBJ,KAAK,UAGTP,EAAAC,EAAAC,cAAA,UACEG,GAAG,KACHF,QAAQ,sBACRG,oBAAoB,YAEpBN,EAAAC,EAAAC,cAAA,QACEM,EAAE,2EAGFC,YAAY,KACZC,cAAc,SACdC,iBAAiB,MACjBJ,KAAK,UAGTP,EAAAC,EAAAC,cAAA,UACEG,GAAG,KACHF,QAAQ,sBACRG,oBAAoB,YAEpBN,EAAAC,EAAAC,cAAA,QACEM,EAAE,iDACFC,YAAY,KACZC,cAAc,SACdC,iBAAiB,MACjBJ,KAAK,UAGTP,EAAAC,EAAAC,cAAA,UACEG,GAAG,KACHF,QAAQ,sBACRG,oBAAoB,YAEpBN,EAAAC,EAAAC,cAAA,QACEM,EAAE,4FAEFC,YAAY,KACZC,cAAc,SACdC,iBAAiB,MACjBJ,KAAK,UAGTP,EAAAC,EAAAC,cAAA,UACEG,GAAG,KACHF,QAAQ,sBACRG,oBAAoB,YAEpBN,EAAAC,EAAAC,cAAA,QACEM,EAAE,6FAEFC,YAAY,KACZC,cAAc,SACdC,iBAAiB,MACjBJ,KAAK,UAGTP,EAAAC,EAAAC,cAAA,QACEU,MAAM,MACNC,OAAO,MACPC,GAAG,KACHC,GAAG,KACHR,KAAK,OACLS,OAAO,QACPP,YAAY,MAEbV,EAAMkB,WAKPC,EAAU,CACd,SAACC,EAAKC,EAAKC,GAAX,OACErB,EAAAC,EAAAC,cAAA,SACEF,EAAAC,EAAAC,cAAA,OACEoB,UAAW,IAAMF,EACjBJ,OAAQK,EACRR,OAAO,MACPD,MAAM,MACNW,EAAE,MACFC,EAAE,UAIR,SAACL,EAAKC,GAAN,OACEpB,EAAAC,EAAAC,cAAA,SACEF,EAAAC,EAAAC,cAAA,OAAKoB,UAAW,IAAMH,EAAKN,OAAO,KAAKD,MAAM,KAAKW,EAAE,MAAMC,EAAE,UAGhE,SAACL,EAAKC,GAAN,OACEpB,EAAAC,EAAAC,cAAA,SACEF,EAAAC,EAAAC,cAAA,OAAKoB,UAAW,IAAMH,EAAKN,OAAO,KAAKD,MAAM,KAAKW,EAAE,MAAMC,EAAE,OAC5DxB,EAAAC,EAAAC,cAAA,OAAKoB,UAAW,IAAMH,EAAKN,OAAO,KAAKD,MAAM,KAAKW,EAAE,MAAMC,EAAE,OAC5DxB,EAAAC,EAAAC,cAAA,OAAKoB,UAAW,IAAMH,EAAKN,OAAO,KAAKD,MAAM,KAAKW,EAAE,MAAMC,EAAE,UAGhE,SAACL,EAAKC,GAAN,OACEpB,EAAAC,EAAAC,cAAA,SACEF,EAAAC,EAAAC,cAAA,OAAKoB,UAAW,IAAMH,EAAKN,OAAO,KAAKD,MAAM,KAAKW,EAAE,MAAMC,EAAE,QAC5DxB,EAAAC,EAAAC,cAAA,OAAKoB,UAAW,IAAMH,EAAKN,OAAO,KAAKD,MAAM,KAAKW,EAAE,MAAMC,EAAE,UAGhE,SAACL,EAAKC,GAAN,OACEpB,EAAAC,EAAAC,cAAA,SACEF,EAAAC,EAAAC,cAAA,OAAKoB,UAAW,IAAMH,EAAKN,OAAO,KAAKD,MAAM,KAAKW,EAAE,MAAMC,EAAE,OAC5DxB,EAAAC,EAAAC,cAAA,OAAKoB,UAAW,IAAMH,EAAKN,OAAO,KAAKD,MAAM,KAAKW,EAAE,MAAMC,EAAE,OAC5DxB,EAAAC,EAAAC,cAAA,OAAKoB,UAAW,IAAMH,EAAKN,OAAO,KAAKD,MAAM,KAAKW,EAAE,MAAMC,EAAE,OAC5DxB,EAAAC,EAAAC,cAAA,OAAKoB,UAAW,IAAMH,EAAKN,OAAO,KAAKD,MAAM,KAAKW,EAAE,MAAMC,EAAE,QAC5DxB,EAAAC,EAAAC,cAAA,OAAKoB,UAAW,IAAMH,EAAKN,OAAO,KAAKD,MAAM,KAAKW,EAAE,MAAMC,EAAE,UAGhE,SAACL,EAAKC,EAAKC,GAAX,OACErB,EAAAC,EAAAC,cAAA,SACEF,EAAAC,EAAAC,cAAA,OAAKoB,UAAW,IAAMH,EAAKN,OAAO,KAAKD,MAAM,KAAKW,EAAE,KAAKC,EAAE,QAC3DxB,EAAAC,EAAAC,cAAA,OAAKoB,UAAW,IAAMH,EAAKN,OAAO,KAAKD,MAAM,KAAKW,EAAE,MAAMC,EAAE,QAC5DxB,EAAAC,EAAAC,cAAA,OAAKoB,UAAW,IAAMH,EAAKN,OAAO,KAAKD,MAAM,KAAKW,EAAE,MAAMC,EAAE,UAGhE,SAACL,EAAKC,GAAN,OACEpB,EAAAC,EAAAC,cAAA,SACEF,EAAAC,EAAAC,cAAA,OAAKoB,UAAW,IAAMH,EAAKN,OAAO,KAAKD,MAAM,KAAKW,EAAE,MAAMC,EAAE,OAC5DxB,EAAAC,EAAAC,cAAA,OAAKoB,UAAW,IAAMH,EAAKN,OAAO,KAAKD,MAAM,KAAKW,EAAE,MAAMC,EAAE,OAC5DxB,EAAAC,EAAAC,cAAA,OAAKoB,UAAW,IAAMH,EAAKN,OAAO,KAAKD,MAAM,KAAKW,EAAE,MAAMC,EAAE,OAC5DxB,EAAAC,EAAAC,cAAA,OAAKoB,UAAW,IAAMH,EAAKN,OAAO,KAAKD,MAAM,KAAKW,EAAE,MAAMC,EAAE,QAC5DxB,EAAAC,EAAAC,cAAA,OAAKoB,UAAW,IAAMH,EAAKN,OAAO,KAAKD,MAAM,KAAKW,EAAE,MAAMC,EAAE,UAGhE,SAACL,EAAKC,GAAN,OACEpB,EAAAC,EAAAC,cAAA,SACEF,EAAAC,EAAAC,cAAA,OAAKoB,UAAW,IAAMH,EAAKN,OAAO,KAAKD,MAAM,KAAKW,EAAE,KAAKC,EAAE,QAC3DxB,EAAAC,EAAAC,cAAA,OAAKoB,UAAW,IAAMH,EAAKN,OAAO,KAAKD,MAAM,KAAKW,EAAE,MAAMC,EAAE,QAC5DxB,EAAAC,EAAAC,cAAA,OAAKoB,UAAW,IAAMH,EAAKN,OAAO,KAAKD,MAAM,KAAKW,EAAE,KAAKC,EAAE,QAC3DxB,EAAAC,EAAAC,cAAA,OAAKoB,UAAW,IAAMH,EAAKN,OAAO,KAAKD,MAAM,KAAKW,EAAE,MAAMC,EAAE,UAGhE,SAACL,EAAKC,GAAN,OACEpB,EAAAC,EAAAC,cAAA,SACEF,EAAAC,EAAAC,cAAA,OAAKoB,UAAW,IAAMH,EAAKN,OAAO,KAAKD,MAAM,KAAKW,EAAE,MAAMC,EAAE,OAC5DxB,EAAAC,EAAAC,cAAA,OAAKoB,UAAW,IAAMH,EAAKN,OAAO,KAAKD,MAAM,KAAKW,EAAE,MAAMC,EAAE,QAC5DxB,EAAAC,EAAAC,cAAA,OAAKoB,UAAW,IAAMH,EAAKN,OAAO,KAAKD,MAAM,KAAKW,EAAE,MAAMC,EAAE,QAC5DxB,EAAAC,EAAAC,cAAA,OAAKoB,UAAW,IAAMH,EAAKN,OAAO,KAAKD,MAAM,KAAKW,EAAE,MAAMC,EAAE,QAC5DxB,EAAAC,EAAAC,cAAA,OAAKoB,UAAW,IAAMH,EAAKN,OAAO,KAAKD,MAAM,KAAKW,EAAE,MAAMC,EAAE,QAC5DxB,EAAAC,EAAAC,cAAA,OAAKoB,UAAW,IAAMH,EAAKN,OAAO,KAAKD,MAAM,KAAKW,EAAE,MAAMC,EAAE,QAC5DxB,EAAAC,EAAAC,cAAA,OAAKoB,UAAW,IAAMH,EAAKN,OAAO,KAAKD,MAAM,KAAKW,EAAE,MAAMC,EAAE,QAC5DxB,EAAAC,EAAAC,cAAA,OAAKoB,UAAW,IAAMH,EAAKN,OAAO,KAAKD,MAAM,KAAKW,EAAE,MAAMC,EAAE,QAC5DxB,EAAAC,EAAAC,cAAA,OAAKoB,UAAW,IAAMH,EAAKN,OAAO,KAAKD,MAAM,KAAKW,EAAE,MAAMC,EAAE,UAGhE,SAACL,EAAKC,GAAN,OACEpB,EAAAC,EAAAC,cAAA,SACEF,EAAAC,EAAAC,cAAA,OAAKoB,UAAW,IAAMH,EAAKN,OAAO,KAAKD,MAAM,KAAKW,EAAE,KAAKC,EAAE,QAC3DxB,EAAAC,EAAAC,cAAA,OAAKoB,UAAW,IAAMH,EAAKN,OAAO,KAAKD,MAAM,KAAKW,EAAE,MAAMC,EAAE,QAC5DxB,EAAAC,EAAAC,cAAA,OAAKoB,UAAW,IAAMH,EAAKN,OAAO,KAAKD,MAAM,KAAKW,EAAE,KAAKC,EAAE,OAC3DxB,EAAAC,EAAAC,cAAA,OAAKoB,UAAW,IAAMH,EAAKN,OAAO,KAAKD,MAAM,KAAKW,EAAE,MAAMC,EAAE,OAC5DxB,EAAAC,EAAAC,cAAA,OAAKoB,UAAW,IAAMH,EAAKN,OAAO,KAAKD,MAAM,KAAKW,EAAE,MAAMC,EAAE,UAGhE,SAACL,EAAKC,EAAKC,GAAX,OACErB,EAAAC,EAAAC,cAAA,SACEF,EAAAC,EAAAC,cAAA,OACEoB,UAAW,IAAMF,EACjBJ,OAAQK,EACRR,OAAO,MACPD,MAAM,MACNW,EAAE,KACFC,EAAE,UAIR,SAACL,EAAKC,EAAKC,GAAX,OACErB,EAAAC,EAAAC,cAAA,SACEF,EAAAC,EAAAC,cAAA,OACEoB,UAAW,IAAMF,EACjBJ,OAAQK,EACRR,OAAO,MACPD,MAAM,MACNW,EAAE,MACFC,EAAE,UAIR,SAACL,EAAKC,EAAKC,GAAX,OACErB,EAAAC,EAAAC,cAAA,SACEF,EAAAC,EAAAC,cAAA,OACEoB,UAAW,IAAMF,EACjBJ,OAAQK,EACRR,OAAO,MACPD,MAAM,MACNW,EAAE,MACFC,EAAE,WAMJC,EAAc,SAAA1B,GAClB,IAAI2B,EAAyB,MAAjB3B,EAAM4B,QAAmC,MAAjB5B,EAAM4B,OAAiB,QAAU,MACrE,OACE3B,EAAAC,EAAAC,cAAA,SACEF,EAAAC,EAAAC,cAAA,OACEoB,UAAW,IAAMvB,EAAM6B,OACvBf,OAAO,KACPD,MAAM,KACNW,EAAE,KACFC,EAAE,KACFR,OAAQU,IAEV1B,EAAAC,EAAAC,cAAA,OACEoB,UAAW,IAAMvB,EAAM4B,OACvBd,OAAO,KACPD,MAAM,KACNW,EAAE,KACFC,EAAE,OAEHN,EAAQnB,EAAM6B,OAAS,GAAG7B,EAAM4B,OAAQ5B,EAAM6B,OAAQF,KCjZvDG,EAAO,SAAA9B,GACX,OACEC,EAAAC,EAAAC,cAAC4B,EAAD,CAAgB1B,QAASL,EAAMK,SACX,MAAjBL,EAAM4B,OAAiB,KACtB3B,EAAAC,EAAAC,cAAA,SACEF,EAAAC,EAAAC,cAAA,SACEF,EAAAC,EAAAC,cAAC6B,EAAD,CAAaJ,OAAQ5B,EAAM4B,OAAQC,OAAQ7B,EAAM6B,UAEnD5B,EAAAC,EAAAC,cAAA,KAAG8B,UAAU,uBACXhC,EAAAC,EAAAC,cAAC6B,EAAD,CAAaJ,OAAQ5B,EAAM4B,OAAQC,OAAQ7B,EAAM6B,aAQvDK,EAAW,SAAAlC,GACf,OACEC,EAAAC,EAAAC,cAAC4B,EAAD,CAAgB1B,QAASL,EAAMK,SAC5BJ,EAAAC,EAAAC,cAAA,OAAKoB,UAAW,IAAMvB,EAAM4B,OAAQH,EAAE,OAErCxB,EAAAC,EAAAC,cAAA,OACEoB,UAAW,IAAMvB,EAAM6B,OACvBZ,OAAQ,QACRJ,MAAM,MACNC,OAAO,MACPU,EAAE,KACFC,EAAE,SAONU,EAAO,WAGX,IAFA,IAAI1B,EAAI,GACJ2B,EAAU,CAAC,IAAK,IAAK,IAAK,KACrBC,EAAI,EAAGA,GAAK,GAAIA,IACvB,QAAAC,EAAA,EAAAA,EAAcF,EAAdG,OAAAD,IAAuB,CAAlB,IAAIE,EAAKJ,EAAJE,GACR7B,EAAEgC,KAAK,CAAEb,OAAQY,EAAGX,OAAQQ,IAGhC,OAAO5B,GAGHiC,EAAe,SAACxC,EAAGyC,GACvB,OAAIzC,EAAE2B,OAASc,EAAEd,OAAe,EAC5B3B,EAAE2B,OAASc,EAAEd,QAAgB,EAC7B3B,EAAE0B,OAASe,EAAEf,OAAe,EAC5B1B,EAAE0B,OAASe,EAAEf,QAAgB,EAC1B,GAGHgB,EAAkB,SAACC,EAAMC,EAAQC,GACrC,OAAOD,EACL7C,EAAAC,EAAAC,cAAC6C,EAAD,CACEC,IAAKJ,EAAKjB,OAASiB,EAAKhB,OACxBD,OAAQ,IACRC,OAAQ,IACRxB,QAAS0C,IAGX9C,EAAAC,EAAAC,cAAC6C,EAAD,CACEC,IAAKJ,EAAKjB,OAASiB,EAAKhB,OACxBD,OAAQiB,EAAKjB,OACbC,OAAQgB,EAAKhB,OACbxB,QAAS0C,KAuBTG,EAAW,SAACC,EAAQC,EAAQC,GAChCD,EAAOX,KAAKU,EAAOE,IACnBF,EAAOG,OAAOD,EAAO,IAGjBE,EAAiB,SAACJ,EAAQC,GATT,IAAAI,EAUrBN,EAASC,EAAQC,GAVII,EAUmBL,EAAOZ,OATxCkB,KAAKC,MAAMD,KAAKE,SAAWH,aC9D9BI,EAAa,SAACC,EAAOC,EAAQV,GACjCA,EAAS,GACT,IAAK,IAAIf,EAAI,EAAGA,EAAIyB,EAAQzB,IAC1BkB,EAAeM,EAAOT,GAGxB,OADAA,EAAOW,KAAKrB,GACL,CAACmB,EAAOT,IAGFY,EAnCF,SAACH,EAAOI,GAInB,IAAIC,EACJ,GAJe,MAAXD,GACFJ,EAAMpB,KAAKwB,GAGQ,IAAjBJ,EAAMtB,OAAc,KAAA4B,EACNP,EAAWC,EAAO,EAAGK,GADfE,EAAAC,OAAAC,EAAA,EAAAD,CAAAF,EAAA,GAEtB,OADCN,EADqBO,EAAA,GAEf,CAAEF,KADDA,EADcE,EAAA,GAEDG,KAAM,GAAIV,MAAO,GAAII,QAAS,KAAMO,OAAQ,IAPpC,IAU3BD,EAV2BE,EASfb,EAAWC,EAAO,EAAGK,GATNQ,EAAAL,OAAAC,EAAA,EAAAD,CAAAI,EAAA,GAS9BZ,EAT8Ba,EAAA,GASvBR,EATuBQ,EAAA,OAAAC,EAWff,EAAWC,EAAO,EAAGU,GAXNK,EAAAP,OAAAC,EAAA,EAAAD,CAAAM,EAAA,GAW9Bd,EAX8Be,EAAA,GAWvBL,EAXuBK,EAAA,GAY/B,IAAIC,EAAa,GAGjB,OAFAtB,EAAeM,EAAOgB,GAEf,CACLX,KAAMA,EACNL,MAAOA,EACPU,KAAMA,EACNO,aAAa,EACbb,QANFY,EAAaA,EAAW,GAOtBE,gBAAgB,EAChBP,OAAQ,aCJNQ,EAAgB,SAAAf,GACpB,OAAgB,OAAZA,GAAuC,KAAnBA,EAAQpC,OACvB,CAAC,CAAEoD,IAAK,CAAChB,GAAUpC,OAAQ,EAAGqD,KAAM,YAEtC,IAGHC,EAAa,SAACC,EAAOnB,GACzB,OAAmB,OAAZA,EACH,GACAmB,EACGC,OAAO,SAAAxC,GAAI,OAAoB,KAAhBA,EAAKhB,QAAiBgB,EAAKjB,SAAWqC,EAAQrC,SAC7D0D,IAAI,SAAAzC,GAAI,MAAK,CAAEoC,IAAK,CAACpC,GAAOhB,OAAQ,EAAGqD,KAAM,WAGhDK,EAAc,SAACH,EAAOnB,GAC1B,GACEmB,EAAMI,OAAO,SAACC,EAAMC,GAAP,SACXD,GAAQA,EAAK7D,SAAW8D,EAAK9D,SAAS8D,IAExC,CACA,GAAe,MAAXzB,GAAmBmB,EAAM,GAAGxD,SAAWqC,EAAQrC,OAAQ,CACzD,IAAIqD,EAAMG,EAAMO,QAGhB,OAFAV,EAAIxC,KAAKwB,GACTgB,EAAIlB,KAAKrB,GACF,CAAC,CAAEuC,IAAKA,EAAKpD,OAAQuD,EAAM7C,OAAS,EAAG2C,KAAM,UAEtD,MAAO,CAAC,CAAED,IAAKG,EAAMO,QAAS9D,OAAQuD,EAAM7C,OAAQ2C,KAAM,UAE5D,MAAO,IAGHU,EAAW,SAAAR,GACf,OAAOS,EAAST,GACbC,OACC,SAAAJ,GAAG,OAIK,KAHNA,EAAIO,OACF,SAACM,EAAKjD,GAAN,OAAgBiD,GAAOjD,EAAKhB,OAAS,GAAK,GAAKgB,EAAKhB,SACpD,KAGLyD,IAAI,SAAAL,GAAG,MAAK,CAAEA,IAAKA,EAAIlB,KAAKrB,GAAeb,OAAQ,EAAGqD,KAAM,SAG3Da,EAAc,SAAAX,GAClB,IAAMY,EAAQ,CAAC,OAAQ,SAAU,aACjC,OAAO3B,OAAO4B,OACZb,EAAMI,OAAO,SAACU,EAASrD,GAErB,OADAqD,EAAQrD,EAAKhB,SAAWqE,EAAQrD,EAAKhB,SAAW,IAAIsE,OAAOtD,GACpDqD,GACN,KAEFb,OAAO,SAAAJ,GAAG,OAAIA,EAAI1C,OAAS,IAC3B+C,IAAI,SAAAL,GAAG,MAAK,CACXA,IAAKA,EAAIlB,KAAKrB,GACdb,OAAQoD,EAAI1C,QAAU0C,EAAI1C,OAAS,GACnC2C,KAAMc,EAAMf,EAAI1C,OAAS,OAIzB6D,EAAa,SAAAhB,GACjB,IAAIiB,EAASR,EAAST,GACnBC,OAAO,SAAAJ,GAAG,OAAIA,EAAI1C,OAAS,IAC3B+C,IAAI,SAAAL,GAAG,OACNA,EAAIlB,KAAK,SAAC7D,EAAGyC,GACX,OAAIzC,EAAE2B,OAASc,EAAEd,OAAe,EAC5B3B,EAAE2B,OAASc,EAAEd,QAAgB,EAC1B,MAGVwD,OAAO,SAAAJ,GAAG,OACTA,EAAIO,OAAO,SAACC,EAAMC,GAAP,OACTD,EAAK5D,OAAS,IAAM6D,EAAK7D,QAAS6D,MAcxC,OAXAW,EAASA,EAAOhB,OAAO,SAAAJ,GAAO,IAAAqB,GAAA,EAAAC,GAAA,EAAAC,OAAAC,EAAA,IAC5B,IAD4B,IAC5BC,EAD4BC,EAAA,eACnBC,EADmBF,EAAAG,MAE1B,GACE5B,EAAI1C,OAASqE,EAAUrE,QACvB0C,EAAIO,OAAO,SAACsB,EAAMjE,GAAP,OAAgBiE,GAAQF,EAAUG,SAASlE,KAAO,GAE7D,OAAAmE,GAAO,IALXC,EAAsBZ,EAAtBa,OAAAC,cAAAb,GAAAI,EAAAO,EAAAvB,QAAA0B,MAAAd,GAAA,EAA8B,KAAAe,EAAAV,IAAA,qBAAAU,EAAA,OAAAA,EAAAL,GADF,MAAAM,GAAAf,GAAA,EAAAC,EAAAc,EAAA,YAAAhB,GAAA,MAAAW,EAAAM,QAAAN,EAAAM,SAAA,WAAAhB,EAAA,MAAAC,GAS5B,OAAO,KAEKlB,IAAI,SAAAL,GAAG,MAAK,CAAEA,IAAKA,EAAKpD,OAAQoD,EAAI1C,OAAQ2C,KAAM,UAG5DW,EAAW,SAAAT,GACf,OAAOA,EAAMI,OACX,SAACgC,EAASX,GAAV,OAAoBW,EAAQrB,OAAOqB,EAAQlC,IAAI,SAAAL,GAAG,OAAK4B,GAALV,OAAA9B,OAAAoD,EAAA,EAAApD,CAAeY,QACjE,CAAC,MAIUyC,EAlHK,SAACtE,EAAQa,EAAS0D,EAAOC,GAC3C,IAAIpD,EAAS,GACTY,EAAQhC,EAAOuC,QAanB,OAZIiC,IACFpD,EAASA,EAAO2B,OAAOnB,EAAcf,KAGvCO,GADAA,EAASA,EAAO2B,OAAOhB,EAAWC,EAAOnB,KACzBkC,OAAOZ,EAAYH,EAAOnB,IAC3B,MAAXA,GACFmB,EAAM3C,KAAKwB,GAMN,CAAE0D,MADTA,IADAnD,GADAA,GADAA,EAASA,EAAO2B,OAAOP,EAASR,KAChBe,OAAOJ,EAAYX,KACnBe,OAAOC,EAAWhB,KAClBI,OAAO,SAACM,EAAK+B,GAAN,OAAgB/B,EAAM+B,EAAMhG,QAAQ,GACpC2C,OAAQA,ICZ3BsD,EAAwB,CAC5BjE,MAAO,GACPI,QAAS,KACTc,gBAAgB,EAChBb,KAAM,GACNK,KAAM,GACNO,aAAa,EACb6C,MAAO,EACPnD,OAAQ,GACRuD,QAAS,IAELC,EAAmBC,IAAMC,gBAIzBC,EAAmB,SAACC,EAAOC,GAC/B,OAAQA,EAAOnD,MACb,IAAK,MACH,OAAOjC,EAAImF,EAAOC,GACpB,IAAK,YACH,OAAOC,EAAUF,GACnB,IAAK,OACH,OAAOlE,EAAKkE,EAAOC,GACrB,IAAK,SACH,OAAOE,EAAOH,EAAOC,GACvB,QACE,MAAM,IAAIG,MAAM,qCAIhBC,EAAa,SAACvE,EAAMK,EAAM1B,GAC9B,IAAIQ,EAAQa,EAAKwE,UAAU,SAAAC,GAAC,OAAIA,IAAM9F,IAEtC,OADAK,EAASgB,EAAMK,EAAMlB,GACd,CAAEa,KAAMA,EAAMK,KAAMA,IAGvBtB,EAAM,SAACmF,EAAOC,GAClB,GAAmB,UAAfA,EAAOpF,IAET,OADAoF,EAAOnD,KAAO,SACPqD,EAAOH,EAAOC,GAErB,IAAIpF,EAAM2F,SAASP,EAAOpF,IAAK,IAAM,EACrC,OAAIA,GAAO,GAAKA,EAAMmF,EAAMlE,KAAK3B,QAC/B8F,EAAOnD,KAAO,OACdmD,EAAOxF,KAAOuF,EAAMlE,KAAKjB,GAClBiB,EAAKkE,EAAOC,IAEdD,GAILE,EAAY,SAAAF,GAChB,OAAO/D,OAAAwE,EAAA,EAAAxE,CAAA,GACFyD,EACA9D,EAAK7B,IAAQ2F,EAAsB7D,SAFxC,CAGE8D,QAAS,iCAIP7D,EAAO,SAACkE,EAAOC,GACnB,MAAsB,gCAAlBD,EAAML,QACD1D,OAAAwE,EAAA,EAAAxE,CAAA,GACF+D,EACAK,EAAWL,EAAMlE,KAAMkE,EAAM7D,KAAM8D,EAAOxF,MAF/C,CAGEkF,QAAS,+BAGS,+BAAlBK,EAAML,SACRK,EAAK/D,OAAAwE,EAAA,EAAAxE,CAAA,GACA+D,EACAK,EAAWL,EAAMlE,KAAMkE,EAAM7D,KAAM8D,EAAOxF,MAF1C,CAGHkC,gBAAgB,IAEXV,OAAAwE,EAAA,EAAAxE,CAAA,GACF+D,EACAV,EAAYU,EAAMlE,KAAMkE,EAAMnE,QAASmE,EAAMT,OAAO,GAFzD,CAGEI,QAAS,iBAGNK,GAEHG,EAAS,SAACH,EAAOC,GACrB,GAAsB,aAAlBD,EAAML,SAA4C,cAAlBK,EAAML,QACxC,OAAO1D,OAAAwE,EAAA,EAAAxE,CAAA,GACFyD,EACA9D,EAAK7B,IAAQ2F,EAAsB7D,SAFxC,CAGE8D,QAAS,gCAGb,GAAIK,EAAMT,OA5EU,GA6ElB,OAAOtD,OAAAwE,EAAA,EAAAxE,CAAA,GAAK+D,EAAZ,CAAmBL,QAAS,aAE9B,GAAsB,gBAAlBK,EAAML,QACR,OAA2B,IAAvBK,EAAMvE,MAAMtB,OACP8B,OAAAwE,EAAA,EAAAxE,CAAA,GAAK+D,EAAZ,CAAmBL,QAAS,cAEvB1D,OAAAwE,EAAA,EAAAxE,CAAA,GACF+D,EACAV,EAAYU,EAAM7D,KAAM6D,EAAMnE,QAASmE,EAAMT,OAAO,GAFzD,CAGE7C,aAAa,EACbiD,QAAS,gBAGb,GAAsB,gBAAlBK,EAAML,QAA2B,CACnC,IAAIe,EAAQzE,OAAAwE,EAAA,EAAAxE,CAAA,GACP+D,EACApE,EAAKoE,EAAMvE,MAAOuE,EAAMnE,QAASmE,EAAMT,QAE5C,OAA8B,IAA1BmB,EAASjF,MAAMtB,OACV8B,OAAAwE,EAAA,EAAAxE,CAAA,GACFyE,EACApB,EAAYoB,EAAS5E,KAAM4E,EAAS7E,QAAS6E,EAASnB,OAAO,GAFlE,CAGEI,QAAS,gBAGN1D,OAAAwE,EAAA,EAAAxE,CAAA,GAAKyE,EAAZ,CAAsBf,QAAS,gCAEjC,OAAOK,8/HC9GT,IAAMW,GAAcC,IAAOC,IAAVC,KA2BXC,GAAQ,SAAAnJ,GACZ,OACEC,EAAAC,EAAAC,cAAC4I,GAAD,MJ6DoB9E,EI5DFjE,EAAMiE,QJ4DKmF,EI5DIpJ,EAAMoJ,aJ4DItG,EI5DU9C,EAAM8C,OJ6DtDsG,EAAe,EACpBnJ,EAAAC,EAAAC,cAACF,EAAAC,EAAMmJ,SAAP,KACEpJ,EAAAC,EAAAC,cAAA,OAAKmJ,UAAU,aACbrJ,EAAAC,EAAAC,cAAC4B,EAAD,CAAgB1B,QAAS,gBAE3BJ,EAAAC,EAAAC,cAAA,OAAKmJ,UAAU,aACbrJ,EAAAC,EAAAC,cAAC4B,EAAD,CAAgB1B,QAAS,gBAE3BJ,EAAAC,EAAAC,cAAA,OAAKmJ,UAAU,aACbrJ,EAAAC,EAAAC,cAAC4B,EAAD,CAAgB1B,QAAS,gBAE3BJ,EAAAC,EAAAC,cAAA,OAAKmJ,UAAU,iBACbrJ,EAAAC,EAAAC,cAAC4B,EAAD,CAAgB1B,QAAS,cACX,MAAX4D,EAAkB,KAAOnB,EACxB7C,EAAAC,EAAAC,cAAA,QAAMqB,EAAE,MAAMC,EAAE,MAAM8H,WAAW,SAASC,SAAU,IACjDJ,EAAe,EAAI,UAGtBnJ,EAAAC,EAAAC,cAAA,SACEF,EAAAC,EAAAC,cAAA,SACEF,EAAAC,EAAAC,cAAC6B,EAAD,CAAaJ,OAAQqC,EAAQrC,OAAQC,OAAQoC,EAAQpC,UAEvD5B,EAAAC,EAAAC,cAAA,KAAG8B,UAAU,uBACXhC,EAAAC,EAAAC,cAAC6B,EAAD,CAAaJ,OAAQqC,EAAQrC,OAAQC,OAAQoC,EAAQpC,cAO/D,OA/BiB,IAACoC,EAASmF,EAActG,GIvDzC2G,GAAaT,IAAOC,IAAVS,KAWVC,GAAaX,IAAOC,IAAVW,IACF,SAAA5J,GAAK,OAAKA,EAAM6J,KAAO,UAAY,WAO3CC,GAAO,SAAA9J,GAIX,IAHA,IAAM+J,EAAWC,qBAAWhC,GAExBiC,EAAY,GAHItD,EAAA,SAIXtE,GACP4H,EAAUxH,KACRxC,EAAAC,EAAAC,cAACwJ,GAAD,CAAY1G,IAAKjD,EAAMoF,MAAM/C,GAAGT,OAAS5B,EAAMoF,MAAM/C,GAAGR,QACrDe,EAAgB5C,EAAMoF,MAAM/C,IAAI,EAAO,kBACtC0H,EAAS,CAAE7E,KAAM,OAAQrC,KAAM7C,EAAMoF,MAAM/C,UAJ1CA,EAAI,EAAGA,EAAIrC,EAAMoF,MAAM7C,OAAS,EAAGF,IAAKsE,EAAxCtE,GAST,GAAoB,OAAhBrC,EAAMoF,OAAkBpF,EAAMoF,MAAM7C,OAAS,EAAG,CAClD,IAAI2H,EAAWlK,EAAMoF,MAAMpF,EAAMoF,MAAM7C,OAAS,GAChD0H,EAAUxH,KACRxC,EAAAC,EAAAC,cAACwJ,GAAD,CAAYE,MAAI,EAAC5G,IAAKiH,EAAStI,OAASsI,EAASrI,QAC9Ce,EAAgBsH,GAAU,EAAO,kBAChCH,EAAS,CAAE7E,KAAM,OAAQrC,KAAMqH,QAKvC,OAAOjK,EAAAC,EAAAC,cAACsJ,GAAD,KAAaQ,IAGhBE,GAAanB,IAAOC,IAAVmB,KAYVC,GAAO,SAAArK,GAEX,IADA,IAAIsK,EAAY,GACPjI,EAAI,EAAGA,EAAIrC,EAAMoF,MAAM7C,OAAS,EAAGF,IAC1CiI,EAAU7H,KACRxC,EAAAC,EAAAC,cAACwJ,GAAD,CAAY1G,IAAKjD,EAAMoF,MAAM/C,GAAGT,OAAS5B,EAAMoF,MAAM/C,GAAGR,QACrDe,EAAgB5C,EAAMoF,MAAM/C,GAAIrC,EAAM8C,OAAQ,gBAIrD,GAAoB,OAAhB9C,EAAMoF,OAAkBpF,EAAMoF,MAAM7C,OAAS,EAAG,CAClD,IAAI2H,EAAWlK,EAAMoF,MAAMpF,EAAMoF,MAAM7C,OAAS,GAChD+H,EAAU7H,KACRxC,EAAAC,EAAAC,cAACwJ,GAAD,CAAYE,MAAI,EAAC5G,IAAKiH,EAAStI,OAASsI,EAASrI,QAC9Ce,EAAgBsH,EAAUlK,EAAM8C,OAAQ,gBAI/C,OAAO7C,EAAAC,EAAAC,cAACgK,GAAD,KAAaG,IAGhBC,GAAmBvB,IAAOC,IAAVuB,KAkBhBC,GAAa,SAAAzK,GACjB,OACEC,EAAAC,EAAAC,cAACoK,GAAD,KACGvK,EAAM2H,MAAQ,IAAM3H,EAAM0K,gBAK3BC,GAAmB3B,IAAOC,IAAV2B,KA+ChBC,GAAa,SAAA7K,GACjB,OACEC,EAAAC,EAAAC,cAACwK,GAAD,KACmB,gBAAhB3K,EAAMoI,OAA2C,gBAAhBpI,EAAMoI,MACtCnI,EAAAC,EAAAC,cAAA,aACEF,EAAAC,EAAAC,cAAA,aACGH,EAAMwE,OAAOc,IAAI,SAAAuC,GAAK,OACrB5H,EAAAC,EAAAC,cAAA,MACE2K,MAAM,SACN7H,IACE4E,EAAM5C,IAAIK,IAAI,SAAAzC,GAAI,OAAIA,EAAKjB,OAASiB,EAAKhB,SAAQkJ,OACjDlD,EAAMhG,QAGR5B,EAAAC,EAAAC,cAAA,MAAI2K,MAAM,SJxIA,SAAA7F,GACxB,IAAI+F,EAAU/F,EACXU,QACAL,IAAI,SAAAzC,GAAI,OAAIA,EAAKjB,OAASiB,EAAKhB,SAC/BkJ,KAAK,IACR,OAAO9F,EAAIK,IAAI,SAAAzC,GAAI,OACjB5C,EAAAC,EAAAC,cAAC8K,EAAD,CACEhI,IAAK+H,EAAUnI,EAAKjB,OAASiB,EAAKhB,OAClCD,OAAQiB,EAAKjB,OACbC,OAAQgB,EAAKhB,WI+HgBqJ,CAAkBrD,EAAM5C,MAC3ChF,EAAAC,EAAAC,cAAA,MAAI2K,MAAM,QAAQjD,EAAM3C,MACxBjF,EAAAC,EAAAC,cAAA,MAAI2K,MAAM,UAAUjD,EAAMhG,WAG9B5B,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,mBACkB,OAAjBH,EAAMwE,QAAmBxE,EAAMwE,OAAOjC,OAAS,EAAItC,EAAAC,EAAAC,cAAA,WAAS,KAC7DF,EAAAC,EAAAC,cAAA,UACGH,EAAMwE,OAAOgB,OAAO,SAACM,EAAK+B,GAAN,OAAiB/B,EAAO+B,EAAMhG,QAAS,OAKlE,OAKJsJ,GAAgBnC,IAAOC,IAAVmC,KAmBbC,GAAU,SAAArL,GACd,OAAOC,EAAAC,EAAAC,cAACgL,GAAD,KAAgBnL,EAAM+H,UAGzBuD,GAAmBtC,IAAOC,IAAVsC,KAmBhBC,GAAa,SAAAxL,GACjB,IAAM+J,EAAWC,qBAAWhC,GAE5B,OACE/H,EAAAC,EAAAC,cAACmL,GAAD,KAFe,CAAC,cAAe,cAAe,WAAY,aAG9CvE,SAAS/G,EAAMoI,OACvBnI,EAAAC,EAAAC,cAAA,UAAQE,QAAS,kBAAM0J,EAAS,CAAE7E,KAAM,aAAxC,QACE,OAKJuG,GAAmBzC,IAAOC,IAAVyC,KA2BhBC,GAAa,WACjB,OACE1L,EAAAC,EAAAC,cAACsL,GAAD,KACExL,EAAAC,EAAAC,cAACyL,EAAA,EAAD,CAAMC,GAAG,KAAT,UAKAC,GAAkB9C,IAAOC,IAAV8C,KA+CNC,GArCG,SAAAhM,GAAS,IAAAiM,EACCC,qBAAW/D,EAAkBL,GAD9BqE,EAAA9H,OAAAC,EAAA,EAAAD,CAAA4H,EAAA,GAClB7D,EADkB+D,EAAA,GACXpC,EADWoC,EAAA,GAiBzB,OAdAC,oBAAU,WACRrC,EAAS,CAAE7E,KAAM,cAEjB,IAAMmH,EAAa,SAASC,GAC1BvC,EAAS,CAAE7E,KAAM,MAAOjC,IAAKqJ,EAAMrJ,OAKrC,OAFAsJ,OAAOC,iBAAiB,WAAYH,GAE7B,WACLE,OAAOE,oBAAoB,WAAYJ,KAExC,IAGDpM,EAAAC,EAAAC,cAAC2L,GAAD,KACE7L,EAAAC,EAAAC,cAAC6H,EAAiB0E,SAAlB,CAA2B7F,MAAOkD,GAChC9J,EAAAC,EAAAC,cAACwM,GAAD,CAAYhF,MAAOS,EAAMT,MAAO+C,cD3UlB,KC4UdzK,EAAAC,EAAAC,cAACyM,GAAD,CAAS7E,QAASK,EAAML,UACxB9H,EAAAC,EAAAC,cAAC0M,GAAD,MACC5M,EAAAC,EAAAC,cAAC2M,GAAD,CAAYtI,OAAQ4D,EAAM5D,OAAQ4D,MAAOA,EAAML,UAChD9H,EAAAC,EAAAC,cAAC4M,GAAD,CAAY3E,MAAOA,EAAML,UACzB9H,EAAAC,EAAAC,cAAC6M,GAAD,CACE/I,QAASmE,EAAMnE,QACfnB,OAAQsF,EAAMrD,eACdqE,aAAchB,EAAMvE,MAAMtB,SAE5BtC,EAAAC,EAAAC,cAAC8M,GAAD,CAAM7H,MAAOgD,EAAM7D,KAAMzB,OAAQsF,EAAMtD,cACvC7E,EAAAC,EAAAC,cAAC+M,GAAD,CAAM9H,MAAOgD,EAAMlE,wcCnW3B,IAAMiJ,GAAanE,IAAOC,IAAVmE,MAuBVC,GAAO,WACX,OACEpN,EAAAC,EAAAC,cAACgN,GAAD,KACElN,EAAAC,EAAAC,cAAA,sBACAF,EAAAC,EAAAC,cAACyL,EAAA,EAAD,CAAMC,GAAG,cAAT,wBAgBSyB,GAXG,WAChB,OACErN,EAAAC,EAAAC,cAACoN,EAAA,EAAD,KACEtN,EAAAC,EAAAC,cAACqN,EAAA,EAAD,KACEvN,EAAAC,EAAAC,cAACsN,EAAA,EAAD,CAAOC,KAAK,IAAIC,OAAK,EAACC,UAAWP,KACjCpN,EAAAC,EAAAC,cAACsN,EAAA,EAAD,CAAOC,KAAK,cAAcE,UAAW5B,QC9BvC6B,GAAcC,QACW,cAA7BvB,OAAOwB,SAASC,UAEe,UAA7BzB,OAAOwB,SAASC,UAEhBzB,OAAOwB,SAASC,SAASC,MACvB,2DAsCN,SAASC,GAAgBC,EAAOC,GAC9BC,UAAUC,cACPC,SAASJ,GACTK,KAAK,SAAAC,GACJA,EAAaC,cAAgB,WAC3B,IAAMC,EAAmBF,EAAaG,WACd,MAApBD,IAGJA,EAAiBE,cAAgB,WACA,cAA3BF,EAAiBvG,QACfiG,UAAUC,cAAcQ,YAI1BC,QAAQC,IACN,iHAKEZ,GAAUA,EAAOa,UACnBb,EAAOa,SAASR,KAMlBM,QAAQC,IAAI,sCAGRZ,GAAUA,EAAOc,WACnBd,EAAOc,UAAUT,UAO5BU,MAAM,SAAAC,GACLL,QAAQK,MAAM,4CAA6CA,KC3FjEC,IAASC,OAAOrP,EAAAC,EAAAC,cAACoP,GAAD,MAAeC,SAASC,eAAe,SDiBhD,SAAkBrB,GACvB,GAA6C,kBAAmBC,UAAW,CAGzE,GADkB,IAAIqB,IAAIC,IAAwBpD,OAAOwB,SAAS6B,MACpDC,SAAWtD,OAAOwB,SAAS8B,OAIvC,OAGFtD,OAAOC,iBAAiB,OAAQ,WAC9B,IAAM2B,EAAK,GAAAhI,OAAMwJ,IAAN,sBAEP9B,IAgEV,SAAiCM,EAAOC,GAEtC0B,MAAM3B,GACHK,KAAK,SAAAuB,GAEJ,IAAMC,EAAcD,EAASE,QAAQC,IAAI,gBAEnB,MAApBH,EAASI,QACO,MAAfH,IAA8D,IAAvCA,EAAYI,QAAQ,cAG5C/B,UAAUC,cAAc+B,MAAM7B,KAAK,SAAAC,GACjCA,EAAa6B,aAAa9B,KAAK,WAC7BjC,OAAOwB,SAASwC,aAKpBrC,GAAgBC,EAAOC,KAG1Be,MAAM,WACLJ,QAAQC,IACN,mEArFAwB,CAAwBrC,EAAOC,GAI/BC,UAAUC,cAAc+B,MAAM7B,KAAK,WACjCO,QAAQC,IACN,gHAMJd,GAAgBC,EAAOC,MCxC/BE","file":"static/js/main.75824268.chunk.js","sourcesContent":["import React from \"react\";\n\nconst SVGBoilerPlate = props => {\n  return (\n    <svg viewBox=\"-3 -3 306 506\" onClick={props.onClick}>\n      <symbol\n        id=\"h\"\n        viewBox=\"-600 -600 1200 1200\"\n        preserveAspectRatio=\"xMidYMid\"\n        fill=\"red\"\n      >\n        <path\n          d=\"M0-300c0-100 100-200 200-200\n                       s200 100 200 250\n                       C400 0 0 400 0 500 0 400-400 0-400-250\n                       c0-150 100-250 200-250\n                       S0-400 0-300z\"\n        />\n      </symbol>\n      <symbol\n        id=\"c\"\n        viewBox=\"-600 -600 1200 1200\"\n        preserveAspectRatio=\"xMidYMid\"\n        fill=\"black\"\n      >\n        <path\n          d=\"M30 150c5 235 55 250 100 350\n                         h-260c45-100 95-115 100-350\n                         a10 10 0 0 0-20 0 210 210 0 1 1-74-201\n                         10 10 0 0 0 14-14 230 230 0 1 1 220\n                         0 10 10 0 0 0 14 14 210 210 0 1 1-74\n                         201 10 10 0 0 0-20 0z\"\n        />\n      </symbol>\n      <symbol\n        id=\"s\"\n        viewBox=\"-600 -600 1200 1200\"\n        preserveAspectRatio=\"xMidYMid\"\n        fill=\"black\"\n      >\n        <path\n          d=\"M0-500c100 250 355 400 355 685\n                         a150 150 0 0 1-300 0 10 10 0 0 0-20 0\n                         c0 200 50 215 95 315h-260c45-100 95-115 95-315\n                         a10 10 0 0 0-20 0 150 150 0 0 1-300 0\n                         c0-285 255-435 355-685z\"\n        />\n      </symbol>\n      <symbol\n        id=\"d\"\n        viewBox=\"-600 -600 1200 1200\"\n        preserveAspectRatio=\"xMidYMid\"\n        fill=\"red\"\n      >\n        <path\n          d=\"M-400 0C-350 0 0-450 0-500 0-450 350 0\n                         400 0 350 0 0 450 0 500 0 450-350 0-400 0z\"\n        />\n      </symbol>\n      <symbol\n        id=\"1\"\n        viewBox=\"-500 -500 1000 1000\"\n        preserveAspectRatio=\"xMidYMid\"\n      >\n        <path\n          d=\"M-270 460h160m-90-10L0-460\n                         l200 910m-90 10h160m-390-330\n                         h240\"\n          strokeWidth=\"80\"\n          strokeLinecap=\"square\"\n          strokeMiterlimit=\"1.5\"\n          fill=\"none\"\n        />\n      </symbol>\n      <symbol\n        id=\"2\"\n        viewBox=\"-500 -500 1000 1000\"\n        preserveAspectRatio=\"xMidYMid\"\n      >\n        <path\n          d=\"M-225-225c-20-40 25-235 225-235\n                         s225 135 225 235c0 200-450 385-450 685\n                         h450V300\"\n          strokeWidth=\"80\"\n          strokeLinecap=\"square\"\n          strokeMiterlimit=\"1.5\"\n          fill=\"none\"\n        />\n      </symbol>\n      <symbol\n        id=\"3\"\n        viewBox=\"-500 -500 1000 1000\"\n        preserveAspectRatio=\"xMidYMid\"\n      >\n        <path\n          d=\"M-250-320v-140h450L-110-80\n                         c10-10 60-40 110-40 200 0 250 120 250 270 0\n                         200-80 310-280 310s-230-160-230-160\"\n          strokeWidth=\"80\"\n          strokeLinecap=\"square\"\n          strokeMiterlimit=\"1.5\"\n          fill=\"none\"\n        />\n      </symbol>\n      <symbol\n        id=\"4\"\n        viewBox=\"-500 -500 1000 1000\"\n        preserveAspectRatio=\"xMidYMid\"\n      >\n        <path\n          d=\"M50 460h200m-100 0v-920l-450 635\n                         v25h570\"\n          strokeWidth=\"80\"\n          strokeLinecap=\"square\"\n          strokeMiterlimit=\"1.5\"\n          fill=\"none\"\n        />\n      </symbol>\n      <symbol\n        id=\"5\"\n        viewBox=\"-500 -500 1000 1000\"\n        preserveAspectRatio=\"xMidYMid\"\n      >\n        <path\n          d=\"M170-460h-345l-35 345\n                         s10-85 210-85c100 0 255 120 255 320\n                         S180 460-20 460s-235-175-235-175\"\n          strokeWidth=\"80\"\n          strokeLinecap=\"square\"\n          strokeMiterlimit=\"1.5\"\n          fill=\"none\"\n        />\n      </symbol>\n      <symbol\n        id=\"6\"\n        viewBox=\"-500 -500 1000 1000\"\n        preserveAspectRatio=\"xMidYMid\"\n      >\n        <path\n          d=\"M-250 100a250 250 0 0 1 500 0v110\n                         a250 250 0 0 1-500 0v-420A250 250 0 0 1 0-460\n                         c150 0 180 60 200 85\"\n          strokeWidth=\"80\"\n          strokeLinecap=\"square\"\n          strokeMiterlimit=\"1.5\"\n          fill=\"none\"\n        />\n      </symbol>\n      <symbol\n        id=\"7\"\n        viewBox=\"-500 -500 1000 1000\"\n        preserveAspectRatio=\"xMidYMid\"\n      >\n        <path\n          d=\"M-265-320v-140h530\n                         C135-200-90 100-90 460\"\n          strokeWidth=\"80\"\n          strokeLinecap=\"square\"\n          strokeMiterlimit=\"1.5\"\n          fill=\"none\"\n        />\n      </symbol>\n      <symbol\n        id=\"8\"\n        viewBox=\"-500 -500 1000 1000\"\n        preserveAspectRatio=\"xMidYMid\"\n      >\n        <path\n          d=\"M-1-50a205 205 0 1 1 2 0h-2\n                         a255 255 0 1 0 2 0z\"\n          strokeWidth=\"80\"\n          strokeLinecap=\"square\"\n          strokeMiterlimit=\"1.5\"\n          fill=\"none\"\n        />\n      </symbol>\n      <symbol\n        id=\"9\"\n        viewBox=\"-500 -500 1000 1000\"\n        preserveAspectRatio=\"xMidYMid\"\n      >\n        <path\n          d=\"M250-100a250 250 0 0 1-500 0v-110\n                         a250 250 0 0 1 500 0v420A250 250 0 0 1 0 460\n                         c-150 0-180-60-200-85\"\n          strokeWidth=\"80\"\n          strokeLinecap=\"square\"\n          strokeMiterlimit=\"1.5\"\n          fill=\"none\"\n        />\n      </symbol>\n      <symbol\n        id=\"10\"\n        viewBox=\"-500 -500 1000 1000\"\n        preserveAspectRatio=\"xMidYMid\"\n      >\n        <path\n          d=\"M-260 430v-860M-50 0v-310\n                       a150 150 0 0 1 300 0\n                       v620a150 150 0 0 1-300 0z\"\n          strokeWidth=\"80\"\n          strokeLinecap=\"square\"\n          strokeMiterlimit=\"1.5\"\n          fill=\"none\"\n        />\n      </symbol>\n      <symbol\n        id=\"11\"\n        viewBox=\"-500 -500 1000 1000\"\n        preserveAspectRatio=\"xMidYMid\"\n      >\n        <path\n          d=\"M50-460h200m-100 0v710a100 100 0 0 1-400 0v-30\"\n          strokeWidth=\"80\"\n          strokeLinecap=\"square\"\n          strokeMiterlimit=\"1.5\"\n          fill=\"none\"\n        />\n      </symbol>\n      <symbol\n        id=\"12\"\n        viewBox=\"-500 -500 1000 1000\"\n        preserveAspectRatio=\"xMidYMid\"\n      >\n        <path\n          d=\"M-260 100c300 0 220 360 520 360M-175 0v-285\n                         a175 175 0 0 1 350 0v570a175 175 0 0 1-350 0z\"\n          strokeWidth=\"80\"\n          strokeLinecap=\"square\"\n          strokeMiterlimit=\"1.5\"\n          fill=\"none\"\n        />\n      </symbol>\n      <symbol\n        id=\"13\"\n        viewBox=\"-500 -500 1000 1000\"\n        preserveAspectRatio=\"xMidYMid\"\n      >\n        <path\n          d=\"M-285-460h200m-100 0v920m-100 0h200M85-460h200m-100 20l-355 595\n                         M85 460h200m-100-20L-10-70\"\n          strokeWidth=\"80\"\n          strokeLinecap=\"square\"\n          strokeMiterlimit=\"1.5\"\n          fill=\"none\"\n        />\n      </symbol>\n      <rect\n        width=\"300\"\n        height=\"500\"\n        rx=\"16\"\n        ry=\"16\"\n        fill=\"#fff\"\n        stroke=\"black\"\n        strokeWidth=\"6\"\n      />\n      {props.children}\n    </svg>\n  );\n};\n\nconst content = [\n  (sym, num, col) => (\n    <g>\n      <use\n        xlinkHref={\"#\" + num}\n        stroke={col}\n        height=\"100\"\n        width=\"100\"\n        x=\"120\"\n        y=\"230\"\n      />\n    </g>\n  ),\n  (sym, num) => (\n    <g>\n      <use xlinkHref={\"#\" + sym} height=\"70\" width=\"70\" x=\"145\" y=\"190\" />\n    </g>\n  ),\n  (sym, num) => (\n    <g>\n      <use xlinkHref={\"#\" + sym} height=\"50\" width=\"50\" x=\"200\" y=\"50\" />\n      <use xlinkHref={\"#\" + sym} height=\"50\" width=\"50\" x=\"150\" y=\"50\" />\n      <use xlinkHref={\"#\" + sym} height=\"50\" width=\"50\" x=\"175\" y=\"100\" />\n    </g>\n  ),\n  (sym, num) => (\n    <g>\n      <use xlinkHref={\"#\" + sym} height=\"70\" width=\"70\" x=\"115\" y=\"150\" />\n      <use xlinkHref={\"#\" + sym} height=\"70\" width=\"70\" x=\"150\" y=\"215\" />\n    </g>\n  ),\n  (sym, num) => (\n    <g>\n      <use xlinkHref={\"#\" + sym} height=\"50\" width=\"50\" x=\"200\" y=\"50\" />\n      <use xlinkHref={\"#\" + sym} height=\"50\" width=\"50\" x=\"150\" y=\"50\" />\n      <use xlinkHref={\"#\" + sym} height=\"50\" width=\"50\" x=\"100\" y=\"50\" />\n      <use xlinkHref={\"#\" + sym} height=\"50\" width=\"50\" x=\"175\" y=\"100\" />\n      <use xlinkHref={\"#\" + sym} height=\"50\" width=\"50\" x=\"125\" y=\"100\" />\n    </g>\n  ),\n  (sym, num, col) => (\n    <g>\n      <use xlinkHref={\"#\" + sym} height=\"70\" width=\"70\" x=\"80\" y=\"140\" />\n      <use xlinkHref={\"#\" + sym} height=\"70\" width=\"70\" x=\"150\" y=\"140\" />\n      <use xlinkHref={\"#\" + sym} height=\"70\" width=\"70\" x=\"150\" y=\"215\" />\n    </g>\n  ),\n  (sym, num) => (\n    <g>\n      <use xlinkHref={\"#\" + sym} height=\"50\" width=\"50\" x=\"200\" y=\"50\" />\n      <use xlinkHref={\"#\" + sym} height=\"50\" width=\"50\" x=\"150\" y=\"50\" />\n      <use xlinkHref={\"#\" + sym} height=\"50\" width=\"50\" x=\"100\" y=\"50\" />\n      <use xlinkHref={\"#\" + sym} height=\"50\" width=\"50\" x=\"175\" y=\"100\" />\n      <use xlinkHref={\"#\" + sym} height=\"50\" width=\"50\" x=\"125\" y=\"100\" />\n    </g>\n  ),\n  (sym, num) => (\n    <g>\n      <use xlinkHref={\"#\" + sym} height=\"70\" width=\"70\" x=\"80\" y=\"180\" />\n      <use xlinkHref={\"#\" + sym} height=\"70\" width=\"70\" x=\"150\" y=\"180\" />\n      <use xlinkHref={\"#\" + sym} height=\"70\" width=\"70\" x=\"80\" y=\"100\" />\n      <use xlinkHref={\"#\" + sym} height=\"70\" width=\"70\" x=\"150\" y=\"100\" />\n    </g>\n  ),\n  (sym, num) => (\n    <g>\n      <use xlinkHref={\"#\" + sym} height=\"50\" width=\"50\" x=\"175\" y=\"50\" />\n      <use xlinkHref={\"#\" + sym} height=\"50\" width=\"50\" x=\"200\" y=\"100\" />\n      <use xlinkHref={\"#\" + sym} height=\"50\" width=\"50\" x=\"150\" y=\"100\" />\n      <use xlinkHref={\"#\" + sym} height=\"50\" width=\"50\" x=\"225\" y=\"150\" />\n      <use xlinkHref={\"#\" + sym} height=\"50\" width=\"50\" x=\"175\" y=\"150\" />\n      <use xlinkHref={\"#\" + sym} height=\"50\" width=\"50\" x=\"125\" y=\"150\" />\n      <use xlinkHref={\"#\" + sym} height=\"50\" width=\"50\" x=\"200\" y=\"200\" />\n      <use xlinkHref={\"#\" + sym} height=\"50\" width=\"50\" x=\"150\" y=\"200\" />\n      <use xlinkHref={\"#\" + sym} height=\"50\" width=\"50\" x=\"175\" y=\"250\" />\n    </g>\n  ),\n  (sym, num) => (\n    <g>\n      <use xlinkHref={\"#\" + sym} height=\"70\" width=\"70\" x=\"80\" y=\"140\" />\n      <use xlinkHref={\"#\" + sym} height=\"70\" width=\"70\" x=\"150\" y=\"140\" />\n      <use xlinkHref={\"#\" + sym} height=\"70\" width=\"70\" x=\"80\" y=\"70\" />\n      <use xlinkHref={\"#\" + sym} height=\"70\" width=\"70\" x=\"150\" y=\"70\" />\n      <use xlinkHref={\"#\" + sym} height=\"70\" width=\"70\" x=\"150\" y=\"215\" />\n    </g>\n  ),\n  (sym, num, col) => (\n    <g>\n      <use\n        xlinkHref={\"#\" + num}\n        stroke={col}\n        height=\"100\"\n        width=\"100\"\n        x=\"70\"\n        y=\"155\"\n      />\n    </g>\n  ),\n  (sym, num, col) => (\n    <g>\n      <use\n        xlinkHref={\"#\" + num}\n        stroke={col}\n        height=\"100\"\n        width=\"100\"\n        x=\"130\"\n        y=\"150\"\n      />\n    </g>\n  ),\n  (sym, num, col) => (\n    <g>\n      <use\n        xlinkHref={\"#\" + num}\n        stroke={col}\n        height=\"100\"\n        width=\"100\"\n        x=\"140\"\n        y=\"200\"\n      />\n    </g>\n  )\n];\n\nconst CardContent = props => {\n  let color = props.symbol === \"c\" || props.symbol === \"s\" ? \"black\" : \"red\";\n  return (\n    <g>\n      <use\n        xlinkHref={\"#\" + props.number}\n        height=\"50\"\n        width=\"50\"\n        x=\"10\"\n        y=\"10\"\n        stroke={color}\n      />\n      <use\n        xlinkHref={\"#\" + props.symbol}\n        height=\"50\"\n        width=\"50\"\n        x=\"10\"\n        y=\"60\"\n      />\n      {content[props.number - 1](props.symbol, props.number, color)}\n    </g>\n  );\n};\n\nexport { SVGBoilerPlate, CardContent };\n","import React from \"react\";\nimport { SVGBoilerPlate, CardContent } from \"./SVG\";\n\nconst Card = props => {\n  return (\n    <SVGBoilerPlate onClick={props.onClick}>\n      {props.symbol === \"b\" ? null : (\n        <g>\n          <g>\n            <CardContent symbol={props.symbol} number={props.number} />\n          </g>\n          <g transform=\"rotate(180 150 250)\">\n            <CardContent symbol={props.symbol} number={props.number} />\n          </g>\n        </g>\n      )}\n    </SVGBoilerPlate>\n  );\n};\n\nconst MiniCard = props => {\n  return (\n    <SVGBoilerPlate onClick={props.onClick}>\n      {<use xlinkHref={\"#\" + props.symbol} y=\"80\" />}\n      {\n        <use\n          xlinkHref={\"#\" + props.number}\n          stroke={\"black\"}\n          width=\"150\"\n          height=\"150\"\n          x=\"10\"\n          y=\"20\"\n        />\n      }\n    </SVGBoilerPlate>\n  );\n};\n\nconst deck = () => {\n  let d = [];\n  let symbols = [\"c\", \"d\", \"h\", \"s\"];\n  for (let i = 1; i <= 13; i++) {\n    for (let s of symbols) {\n      d.push({ symbol: s, number: i });\n    }\n  }\n  return d;\n};\n\nconst compareCards = (a, b) => {\n  if (a.number > b.number) return 1;\n  if (a.number < b.number) return -1;\n  if (a.symbol > b.symbol) return 1;\n  if (a.symbol < b.symbol) return -1;\n  return 0;\n};\n\nconst cardToComponent = (card, hidden, clickConst) => {\n  return hidden ? (\n    <Card\n      key={card.symbol + card.number}\n      symbol={\"b\"}\n      number={\"b\"}\n      onClick={clickConst}\n    />\n  ) : (\n    <Card\n      key={card.symbol + card.number}\n      symbol={card.symbol}\n      number={card.number}\n      onClick={clickConst}\n    />\n  );\n};\n\nconst pointToComponents = set => {\n  let key_set = set\n    .slice()\n    .map(card => card.symbol + card.number)\n    .join(\"\");\n  return set.map(card => (\n    <MiniCard\n      key={key_set + card.symbol + card.number}\n      symbol={card.symbol}\n      number={card.number}\n    />\n  ));\n};\n\nconst getRandomIndex = size => {\n  return Math.floor(Math.random() * size);\n};\n\nconst moveCard = (source, target, index) => {\n  target.push(source[index]);\n  source.splice(index, 1);\n};\n\nconst moveRandomCard = (source, target) => {\n  moveCard(source, target, getRandomIndex(source.length));\n};\n\nconst stackComponent = (starter, stack_length, hidden) => {\n  return stack_length > 0 ? (\n    <React.Fragment>\n      <div className=\"stackcard\">\n        <SVGBoilerPlate onClick={() => {}} />\n      </div>\n      <div className=\"stackcard\">\n        <SVGBoilerPlate onClick={() => {}} />\n      </div>\n      <div className=\"stackcard\">\n        <SVGBoilerPlate onClick={() => {}} />\n      </div>\n      <div className=\"stack_topcard\">\n        <SVGBoilerPlate onClick={() => {}}>\n          {starter == null ? null : hidden ? (\n            <text x=\"150\" y=\"250\" textAnchor=\"middle\" fontSize={64}>\n              {stack_length + 1 + \" cards\"}\n            </text>\n          ) : (\n            <g>\n              <g>\n                <CardContent symbol={starter.symbol} number={starter.number} />\n              </g>\n              <g transform=\"rotate(180 150 250)\">\n                <CardContent symbol={starter.symbol} number={starter.number} />\n              </g>\n            </g>\n          )}\n        </SVGBoilerPlate>\n      </div>\n    </React.Fragment>\n  ) : null;\n};\n\nexport {\n  Card,\n  deck,\n  compareCards,\n  cardToComponent,\n  moveCard,\n  moveRandomCard,\n  pointToComponents,\n  stackComponent\n};\n","import { compareCards, moveRandomCard } from \"./cards\";\n\nconst deal = (stack, starter) => {\n  if (starter != null) {\n    stack.push(starter);\n  }\n  let hand;\n  if (stack.length === 4) {\n    [stack, hand] = dealTarget(stack, 4, hand);\n    return { hand: hand, crib: [], stack: [], starter: null, points: [] };\n  }\n  [stack, hand] = dealTarget(stack, 6, hand);\n  let crib;\n  [stack, crib] = dealTarget(stack, 2, crib);\n  let newStarter = [];\n  moveRandomCard(stack, newStarter);\n  newStarter = newStarter[0];\n  return {\n    hand: hand,\n    stack: stack,\n    crib: crib,\n    crib_hidden: true,\n    starter: newStarter,\n    starter_hidden: true,\n    points: []\n  };\n};\n\nconst dealTarget = (stack, amount, target) => {\n  target = [];\n  for (let i = 0; i < amount; i++) {\n    moveRandomCard(stack, target);\n  }\n  target.sort(compareCards);\n  return [stack, target];\n};\n\nexport default deal;\n","import { compareCards } from \"./cards\";\n\nconst scoreTarget = (target, starter, score, should_score_jack) => {\n  let points = [];\n  let cards = target.slice();\n  if (should_score_jack) {\n    points = points.concat(pointsStarter(starter));\n  }\n  points = points.concat(pointsKnob(cards, starter));\n  points = points.concat(pointsFlush(cards, starter));\n  if (starter != null) {\n    cards.push(starter);\n  }\n  points = points.concat(points15(cards));\n  points = points.concat(pointsPairs(cards));\n  points = points.concat(pointsRuns(cards));\n  score += points.reduce((sum, point) => sum + point.number, 0);\n  return { score: score, points: points };\n};\n\nconst pointsStarter = starter => {\n  if (starter !== null && starter.number === 11) {\n    return [{ set: [starter], number: 2, type: \"Starter\" }];\n  }\n  return [];\n};\n\nconst pointsKnob = (cards, starter) => {\n  return starter === null\n    ? []\n    : cards\n        .filter(card => card.number === 11 && card.symbol === starter.symbol)\n        .map(card => ({ set: [card], number: 1, type: \"Jack\" }));\n};\n\nconst pointsFlush = (cards, starter) => {\n  if (\n    cards.reduce((prev, next) =>\n      prev && prev.symbol === next.symbol ? next : false\n    )\n  ) {\n    if (starter != null && cards[0].symbol === starter.symbol) {\n      let set = cards.slice();\n      set.push(starter);\n      set.sort(compareCards);\n      return [{ set: set, number: cards.length + 1, type: \"Flush\" }];\n    }\n    return [{ set: cards.slice(), number: cards.length, type: \"Flush\" }];\n  }\n  return [];\n};\n\nconst points15 = cards => {\n  return powerSet(cards)\n    .filter(\n      set =>\n        set.reduce(\n          (sum, card) => (sum += card.number > 10 ? 10 : card.number),\n          0\n        ) === 15\n    )\n    .map(set => ({ set: set.sort(compareCards), number: 2, type: \"15\" }));\n};\n\nconst pointsPairs = cards => {\n  const types = [\"Pair\", \"Triple\", \"Quadruple\"];\n  return Object.values(\n    cards.reduce((grouped, card) => {\n      grouped[card.number] = (grouped[card.number] || []).concat(card);\n      return grouped;\n    }, {})\n  )\n    .filter(set => set.length > 1)\n    .map(set => ({\n      set: set.sort(compareCards),\n      number: set.length * (set.length - 1),\n      type: types[set.length - 2]\n    }));\n};\n\nconst pointsRuns = cards => {\n  let result = powerSet(cards)\n    .filter(set => set.length > 2)\n    .map(set =>\n      set.sort((a, b) => {\n        if (a.number > b.number) return 1;\n        if (a.number < b.number) return -1;\n        return 0;\n      })\n    )\n    .filter(set =>\n      set.reduce((prev, next) =>\n        prev.number + 1 === next.number ? next : false\n      )\n    );\n  result = result.filter(set => {\n    for (let other_set of result) {\n      if (\n        set.length < other_set.length &&\n        set.reduce((bool, card) => bool && other_set.includes(card), true)\n      ) {\n        return false;\n      }\n    }\n    return true;\n  });\n  return result.map(set => ({ set: set, number: set.length, type: \"Run\" }));\n};\n\nconst powerSet = cards => {\n  return cards.reduce(\n    (subsets, value) => subsets.concat(subsets.map(set => [value, ...set])),\n    [[]]\n  );\n};\n\nexport default scoreTarget;\n","import React from \"react\";\nimport { deck, moveCard } from \"./cards\";\nimport deal from \"./deal\";\nimport scoreTarget from \"./score\";\n\nconst initialSolitaireState = {\n  stack: [],\n  starter: null,\n  starter_hidden: true,\n  hand: [],\n  crib: [],\n  crib_hidden: true,\n  score: 0,\n  points: [],\n  message: \"\"\n};\nconst SolitaireContext = React.createContext();\n\nconst WINNING_SCORE = 81;\n\nconst solitaireReducer = (state, action) => {\n  switch (action.type) {\n    case \"key\":\n      return key(state, action);\n    case \"FirstDeal\":\n      return firstDeal(state);\n    case \"hand\":\n      return hand(state, action);\n    case \"button\":\n      return button(state, action);\n    default:\n      throw new Error(\"Uknown action at dispatch const\");\n  }\n};\n\nconst handToCrib = (hand, crib, card) => {\n  let index = hand.findIndex(c => c === card);\n  moveCard(hand, crib, index);\n  return { hand: hand, crib: crib };\n};\n\nconst key = (state, action) => {\n  if (action.key === \"Enter\") {\n    action.type = \"button\";\n    return button(state, action);\n  } else {\n    let key = parseInt(action.key, 10) - 1;\n    if (key >= 0 && key < state.hand.length) {\n      action.type = \"hand\";\n      action.card = state.hand[key];\n      return hand(state, action);\n    }\n    return state;\n  }\n};\n\nconst firstDeal = state => {\n  return {\n    ...initialSolitaireState,\n    ...deal(deck(), initialSolitaireState.starter),\n    message: \"Select 2 cards for the crib\"\n  };\n};\n\nconst hand = (state, action) => {\n  if (state.message === \"Select 2 cards for the crib\") {\n    return {\n      ...state,\n      ...handToCrib(state.hand, state.crib, action.card),\n      message: \"Select 1 Card for the crib\"\n    };\n  }\n  if (state.message === \"Select 1 Card for the crib\") {\n    state = {\n      ...state,\n      ...handToCrib(state.hand, state.crib, action.card),\n      starter_hidden: false\n    };\n    return {\n      ...state,\n      ...scoreTarget(state.hand, state.starter, state.score, true),\n      message: \"Points hand\"\n    };\n  }\n  return state;\n};\nconst button = (state, action) => {\n  if (state.message === \"You won!\" || state.message === \"You lost.\") {\n    return {\n      ...initialSolitaireState,\n      ...deal(deck(), initialSolitaireState.starter),\n      message: \"Select 2 cards for the crib\"\n    };\n  }\n  if (state.score >= WINNING_SCORE) {\n    return { ...state, message: \"You won!\" };\n  }\n  if (state.message === \"Points hand\") {\n    if (state.stack.length === 0) {\n      return { ...state, message: \"You lost.\" };\n    }\n    return {\n      ...state,\n      ...scoreTarget(state.crib, state.starter, state.score, false),\n      crib_hidden: false,\n      message: \"Points crib\"\n    };\n  }\n  if (state.message === \"Points crib\") {\n    let newState = {\n      ...state,\n      ...deal(state.stack, state.starter, state.score)\n    };\n    if (newState.stack.length === 0) {\n      return {\n        ...newState,\n        ...scoreTarget(newState.hand, newState.starter, newState.score, false),\n        message: \"Points hand\"\n      };\n    }\n    return { ...newState, message: \"Select 2 cards for the crib\" };\n  }\n  return state;\n};\nexport {\n  SolitaireContext,\n  solitaireReducer,\n  initialSolitaireState,\n  WINNING_SCORE\n};\n","import React, { useContext, useReducer, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport styled from \"styled-components\";\n\nimport { cardToComponent, pointToComponents, stackComponent } from \"./cards\";\nimport {\n  SolitaireContext,\n  solitaireReducer,\n  initialSolitaireState,\n  WINNING_SCORE\n} from \"./solitaireContext\";\n\nconst StyledStack = styled.div`\n  grid-column-start: left;\n  grid-column-end: middle;\n  grid-row-start: field;\n  grid-row-end: next;\n  height: 25vh;\n  width: 17vh;\n  display: flex;\n  align-content: flex-start;\n  justify-content: flex-start;\n\n  .stackcard {\n    overflow: hidden;\n    width: 15vh;\n    height: 25vh;\n  }\n\n  .stack_topcard {\n    overflow: visible;\n  }\n\n  svg {\n    height: 25vh;\n    width: 15vh;\n  }\n`;\n\nconst Stack = props => {\n  return (\n    <StyledStack>\n      {stackComponent(props.starter, props.stack_length, props.hidden)}\n    </StyledStack>\n  );\n};\n\nconst StyledHand = styled.div`\n  grid-column-start: left;\n  grid-column-end: end;\n  grid-row-start: hand;\n  grid-row-end: end;\n  display: flex;\n  max-width: 100%;\n  align-content: center;\n  justify-content: center;\n`;\n\nconst StyledCard = styled.div`\n  overflow: ${props => (props.last ? \"visible\" : \"hidden\")};\n  svg {\n    height: 25vh;\n    width: 15vh;\n  }\n`;\n\nconst Hand = props => {\n  const dispatch = useContext(SolitaireContext);\n\n  let handcards = [];\n  for (let i = 0; i < props.cards.length - 1; i++) {\n    handcards.push(\n      <StyledCard key={props.cards[i].symbol + props.cards[i].number}>\n        {cardToComponent(props.cards[i], false, () =>\n          dispatch({ type: \"hand\", card: props.cards[i] })\n        )}\n      </StyledCard>\n    );\n  }\n  if (props.cards !== null && props.cards.length > 0) {\n    let lastcard = props.cards[props.cards.length - 1];\n    handcards.push(\n      <StyledCard last key={lastcard.symbol + lastcard.number}>\n        {cardToComponent(lastcard, false, () =>\n          dispatch({ type: \"hand\", card: lastcard })\n        )}\n      </StyledCard>\n    );\n  }\n  return <StyledHand>{handcards}</StyledHand>;\n};\n\nconst StyledCrib = styled.div`\n  grid-column-start: left;\n  grid-column-end: end;\n  grid-row-start: crib;\n  grid-row-end: hand;\n  display: flex;\n  align-content: center;\n  justify-content: center;\n  width: 100%;\n  height: 100%;\n`;\n\nconst Crib = props => {\n  let cribcards = [];\n  for (let i = 0; i < props.cards.length - 1; i++) {\n    cribcards.push(\n      <StyledCard key={props.cards[i].symbol + props.cards[i].number}>\n        {cardToComponent(props.cards[i], props.hidden, () => {})}\n      </StyledCard>\n    );\n  }\n  if (props.cards !== null && props.cards.length > 0) {\n    let lastcard = props.cards[props.cards.length - 1];\n    cribcards.push(\n      <StyledCard last key={lastcard.symbol + lastcard.number}>\n        {cardToComponent(lastcard, props.hidden, () => {})}\n      </StyledCard>\n    );\n  }\n  return <StyledCrib>{cribcards}</StyledCrib>;\n};\n\nconst StyledScoreBoard = styled.div`\n  grid-column-start: left;\n  grid-column-end: middle;\n  grid-row-start: topbar;\n  grid-row-end: field;\n  padding-left: 0.5vh;\n  padding-right: 0.5vh;\n  width: fit-content;\n  font-size: 2vh;\n  font-weight: bold;\n  text-align: center;\n  margin: 0.25vh;\n  background: white;\n  display: inline-block;\n  border: 0.25vh solid #e40000;\n  border-radius: 1vh;\n`;\n\nconst ScoreBoard = props => {\n  return (\n    <StyledScoreBoard>\n      {props.score + \"/\" + props.winning_score}\n    </StyledScoreBoard>\n  );\n};\n\nconst StyledScoreTable = styled.div`\n  grid-column-start: left;\n  grid-column-end: end;\n  grid-row-start: field;\n  grid-row-end: next;\n\n  margin-left: 20vh;\n  margin-top: 2vh;\n\n  font-size: 2vh;\n  color: white;\n  text-shadow: 0.2vh 0.2vh black;\n\n  table {\n    display: flex;\n    border-collapse: collapse;\n    display: inline-block;\n    border-radius: 1vh;\n    border: 0.5vh solid white;\n    border-spacing: 0px;\n    background: white;\n  }\n\n  th {\n    border: 0.25vh solid white;\n    padding: 0.2vh;\n    background: #006500;\n  }\n\n  float: left;\n  .points {\n    height: 6vh;\n  }\n\n  .cards {\n    margin: auto;\n  }\n\n  .number {\n    margin-left: 1vh;\n  }\n\n  svg {\n    height: 6vh;\n  }\n`;\n\nconst ScoreTable = props => {\n  return (\n    <StyledScoreTable>\n      {props.state === \"Points hand\" || props.state === \"Points crib\" ? (\n        <table>\n          <tbody>\n            {props.points.map(point => (\n              <tr\n                class=\"points\"\n                key={\n                  point.set.map(card => card.symbol + card.number).join() +\n                  point.number\n                }\n              >\n                <th class=\"cards\">{pointToComponents(point.set)}</th>\n                <th class=\"type\">{point.type}</th>\n                <th class=\"number\">{point.number}</th>\n              </tr>\n            ))}\n            <tr>\n              <th>Total</th>\n              {props.points !== null && props.points.length > 0 ? <th /> : null}\n              <th>\n                {props.points.reduce((sum, point) => (sum += point.number), 0)}\n              </th>\n            </tr>\n          </tbody>\n        </table>\n      ) : null}\n    </StyledScoreTable>\n  );\n};\n\nconst StyledMessage = styled.div`\n  grid-column-start: middle;\n  grid-column-end: right;\n  grid-row-start: topbar;\n  grid-row-end: field;\n  text-align: center;\n  width: fit-content;\n  padding-left: 0.5vh;\n  padding-right: 0.5vh;\n  font-size: 2vh;\n  font-weight: bold;\n  display: inline-block;\n  background-color: white;\n  border: 0.25vh solid black;\n  border-radius: 1vh;\n  margin: 0.25vh;\n  justify-self: center;\n`;\n\nconst Message = props => {\n  return <StyledMessage>{props.message}</StyledMessage>;\n};\n\nconst StyledNextButton = styled.div`\n  grid-column-start: middle;\n  grid-column-end: right;\n  grid-row-start: next;\n  grid-row-end: crib;\n  text-align: center;\n  font-size: 1vh;\n\n  button {\n    height: 2.8vh;\n    width: 20vh;\n    font-size: 2vh;\n    font-weight: bold;\n    background-color: white;\n    border: 0.25vh solid black;\n    border-radius: 1vh;\n  }\n`;\n\nconst NextButton = props => {\n  const dispatch = useContext(SolitaireContext);\n  const messages = [\"Points hand\", \"Points crib\", \"You won!\", \"You lost.\"];\n  return (\n    <StyledNextButton>\n      {messages.includes(props.state) ? (\n        <button onClick={() => dispatch({ type: \"button\" })}>Next</button>\n      ) : null}\n    </StyledNextButton>\n  );\n};\n\nconst StyledBackButton = styled.div`\n  grid-column-start: right;\n  grid-column-end: end;\n  grid-row-start: topbar;\n  grid-row-end: field;\n  width: fit-content;\n  padding-left: 0.5vh;\n  padding-right: 0.5vh;\n  justify-self: end;\n  text-align: center;\n  font-size: 2vh;\n  font-weight: bold;\n  background: white;\n  border: 0.25vh solid black;\n  border-radius: 1vh;\n  vertical-align: middle;\n  margin: 0.25vh;\n  :hover {\n    font-size: 2.25vh;\n    height: 2.25vh;\n  }\n  a {\n    text-decoration: none;\n    color: black;\n  }\n`;\n\nconst BackButton = () => {\n  return (\n    <StyledBackButton>\n      <Link to=\"/\">Back</Link>\n    </StyledBackButton>\n  );\n};\n\nconst StyledSolitaire = styled.div`\n  display: grid;\n  height: 98vh;\n  width: 98wh;\n  grid-template-columns: [left] 20% [middle] 60% [right] 20%[end];\n  grid-template-rows:\n    [topbar]3vh [field]auto [next] 3vh\n    [crib]25vh [hand]25vh [end];\n`;\n\nconst Solitaire = props => {\n  const [state, dispatch] = useReducer(solitaireReducer, initialSolitaireState);\n\n  useEffect(() => {\n    dispatch({ type: \"FirstDeal\" });\n\n    const keyHandler = function(event) {\n      dispatch({ type: \"key\", key: event.key });\n    };\n\n    window.addEventListener(\"keypress\", keyHandler);\n\n    return () => {\n      window.removeEventListener(\"keypress\", keyHandler);\n    };\n  }, []);\n\n  return (\n    <StyledSolitaire>\n      <SolitaireContext.Provider value={dispatch}>\n        <ScoreBoard score={state.score} winning_score={WINNING_SCORE} />\n        <Message message={state.message} />\n        <BackButton />\n        {<ScoreTable points={state.points} state={state.message} />}\n        <NextButton state={state.message} />\n        <Stack\n          starter={state.starter}\n          hidden={state.starter_hidden}\n          stack_length={state.stack.length}\n        />\n        <Crib cards={state.crib} hidden={state.crib_hidden} />\n        <Hand cards={state.hand} />\n      </SolitaireContext.Provider>\n    </StyledSolitaire>\n  );\n};\n\nexport default Solitaire;\n","import React from \"react\";\nimport { HashRouter as Router, Route, Link, Switch } from \"react-router-dom\";\nimport styled from \"styled-components\";\nimport Solitaire from \"./solitaire\";\n\nconst StyledMenu = styled.div`\n  width: 100%;\n  height: 100%;\n  text-align: center;\n  h1 {\n    font-size: 10vw;\n    color: white;\n    margin-top: 10vh;\n    margin-bottom: 10vh;\n  }\n\n  a {\n    text-decoration: none;\n    color: black;\n    background-color: white;\n    font-size: 3vw;\n    font-weight: bold;\n    padding: 1.5vw;\n    border: 0.5vw solid black;\n    border-radius: 3vw;\n  }\n`;\n\nconst Menu = () => {\n  return (\n    <StyledMenu>\n      <h1>Cribbage</h1>\n      <Link to=\"/solitaire\">Cribbage Solitaire</Link>\n    </StyledMenu>\n  );\n};\n\nconst AppRouter = () => {\n  return (\n    <Router>\n      <Switch>\n        <Route path=\"/\" exact component={Menu} />\n        <Route path=\"/solitaire/\" component={Solitaire} />\n      </Switch>\n    </Router>\n  );\n};\n\nexport default AppRouter;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === \"localhost\" ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === \"[::1]\" ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener(\"load\", () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            \"This web app is being served cache-first by a service \" +\n              \"worker. To learn more, visit https://bit.ly/CRA-PWA\"\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === \"installed\") {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                \"New content is available and will be used when all \" +\n                  \"tabs for this page are closed. See https://bit.ly/CRA-PWA.\"\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log(\"Content is cached for offline use.\");\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error(\"Error during service worker registration:\", error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get(\"content-type\");\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf(\"javascript\") === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        \"No internet connection found. App is running in offline mode.\"\n      );\n    });\n}\n\nexport function unregister() {\n  if (\"serviceWorker\" in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport AppRouter from \"./AppRouter\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(<AppRouter />, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.register();\n"],"sourceRoot":""}